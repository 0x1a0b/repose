<?xml version="1.0" encoding="UTF-8"?>
<uri-stripper xmlns="http://docs.openrepose.org/repose/uri-stripper/v1.0" rewrite-location="false" token-index="2">
    <link-resource uri-path-regex="/continue/.*" http-methods="GET POST">
        <response>
            <json>$.bookstore.book.link</json>
            <xml link-mismatch-action="continue">/bookstore/book/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/continue-index/.*">
        <response>
            <xml link-mismatch-action="continue" token-index="0">/bookstore/book/link-a</xml>
            <xml link-mismatch-action="continue" token-index="1">/bookstore/book/link-b</xml>
            <xml link-mismatch-action="continue" token-index="5">/bookstore/book/link-c</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/remove/.*">
        <response>
            <xml link-mismatch-action="remove">/bookstore/book/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/remove-index/.*">
        <response>
            <xml link-mismatch-action="remove" token-index="5">/bookstore/book/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/fail/.*">
        <response>
            <xml>/bookstore/book/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/fail-index/.*">
        <response>
            <xml token-index="5">/bookstore/book/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/multi-format/.*">
        <response>
            <json link-mismatch-action="continue">$.bookstore.book.link</json>
            <xml link-mismatch-action="continue">/bookstore/book/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/multi-url-a/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book/link-a</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/.*/multi-url-b/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book/link-b</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/basic/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/any-child/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore//link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/attribute/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book/@category</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/first/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book[1]/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/element-search/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book[price>45]/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/attribute-search/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book[@category='BAKING']/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/function-not/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book[not(@category='FLIGHT')]/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/function-last/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/book[last()]/link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/attribute-any/.*">
        <response>
            <xml link-mismatch-action="continue">//link[@*]</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/all-links-double-slash/.*">
        <response>
            <xml link-mismatch-action="continue">//link</xml>
        </response>
    </link-resource>
    <link-resource uri-path-regex="/xpath/all-links-bookstore-star/.*">
        <response>
            <xml link-mismatch-action="continue">/bookstore/*/link</xml>
        </response>
    </link-resource>
</uri-stripper>
